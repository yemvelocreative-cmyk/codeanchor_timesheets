<?phpuse WHMCS\Database\Capsule;function timekeeperRunTimesheetCron(){    $today = date('Y-m-d');    $dayOfWeek = date('D'); // e.g., Mon
    // Load cron settings    $enabledDays = Capsule::table('tblconfiguration')->where('setting', 'timekeeper_cron_days')->value('value');    $userIdsCsv = Capsule::table('tblconfiguration')->where('setting', 'timekeeper_cron_users')->value('value');    $enabledDays = $enabledDays ? explode(',', $enabledDays) : [];    $userIds = $userIdsCsv ? explode(',', $userIdsCsv) : [];    if (!in_array($dayOfWeek, $enabledDays)) {        return; // Not a selected day    }    foreach ($userIds as $adminId) {        // Check if timesheet already exists        $exists = Capsule::table('mod_timekeeper_timesheets')            ->where('admin_id', intval($adminId))            ->where('timesheet_date', $today)            ->exists();        if (!$exists) {            Capsule::table('mod_timekeeper_timesheets')->insert([                'admin_id' => intval($adminId),                'timesheet_date' => $today,                'status' => 'pending',                'created_at' => date('Y-m-d H:i:s'),            ]);        }    }}